((typeof self !== 'undefined' ? self : this)["webpackJsonpappForm"] = (typeof self !== 'undefined' ? self : this)["webpackJsonpappForm"] || []).push([[4],{

/***/ "3734":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavLine_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("54f5");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavLine_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavLine_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "3db8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepsPage_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b1ee");
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepsPage_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepsPage_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "54f5":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "b1ee":
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "ca0f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6bacc4e8-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App/StepsPage.vue?vue&type=template&id=4c368a32&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',{staticClass:"bv-example-row p-5",attrs:{"fluid":"lg"}},[_c('div',[_c('h5',{staticClass:"titre mb-3 shadow-sm p-2"},[_vm._v(" Gestion du formulaire: "),_c('span',{staticClass:"form-title"},[_vm._v(_vm._s(_vm.form.name))])])]),_c('b-row',{attrs:{"align-h":"center"}},[(_vm.formDatas && _vm.formDatas.info)?_c('b-col',{attrs:{"cols":"12","lg":"10"}},[_c('transition',{attrs:{"name":"fade"}},[_c('div',[_c('nav-line',{attrs:{"taille":_vm.id}}),_c('pages',{attrs:{"level":_vm.stepsIndex}})],1)])],1):_vm._e(),(_vm.$store.state.mode)?_c('b-col',{attrs:{"cols":"12","lg":"2"}},[_c('div',{staticClass:"block-button"},[_c('b-button',{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":true}}],staticClass:"shadow-sm",attrs:{"variant":"light","squared":""}},[_vm._v(" Configuration ")]),_c('b-button',{attrs:{"squared":"","variant":"info"},on:{"click":_vm.clearFormDatas}},[_c('b-icon',{staticClass:"mr-2",staticStyle:{"font-size":"2.5rem"},attrs:{"icon":"plus"}}),_vm._v(" Ajouter une etape ")],1),_c('b-button',{attrs:{"squared":"","variant":"dark"},on:{"click":_vm.resetValue}},[_vm._v(" Reset value ")]),_c('b-button',{attrs:{"squared":"","variant":"success"},on:{"click":_vm.saveToLocal}},[_vm._v(" Enregistrer ")]),_c('b-modal',{ref:"modal",attrs:{"id":"modal-prevent-closing","title":"Edition du formulaire","hide-footer":""},on:{"show":_vm.resetModal,"hidden":_vm.resetModal,"ok":_vm.handleOk}},[(_vm.formDatas && _vm.formDatas.info)?_c('form',{ref:"form",on:{"submit":_vm.handleSubmit,"reset":_vm.resetModal}},[_c('b-row',[_c('b-col',{attrs:{"cols":"8"}},[_c('b-form-group',{attrs:{"label":"name","label-for":"name-input"}},[_c('b-form-input',{attrs:{"id":"db-input","required":""},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, "name", $$v)},expression:"form.name"}})],1)],1),_c('b-col',{attrs:{"cols":"8"}},[_c('b-form-group',{attrs:{"label":"Id","label-for":"description-input"}},[_c('b-form-input',{attrs:{"id":"desc-input-id"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, "id", $$v)},expression:"form.id"}})],1)],1),_c('b-col',{attrs:{"cols":"8"}},[_c('b-form-group',{attrs:{"label":"Description","label-for":"description-input"}},[_c('b-form-textarea',{attrs:{"id":"desc-input","required":""},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, "description", $$v)},expression:"form.description"}})],1)],1)],1),_c('hr',{staticClass:"my-3"}),_c('b-row',{attrs:{"align-h":"end"}},[_c('div',{staticClass:"mr-3"},[_c('b-button',{staticClass:"mr-2"},[_vm._v("export")]),_c('b-button',{staticClass:"mr-2",attrs:{"type":"submit","variant":"primary"}},[_vm._v("Mise à jour")])],1)])],1):_vm._e()])],1)]):_vm._e()],1)],1),(_vm.mode)?_c('b-row',{staticClass:"m-0"},[_c('b-col',{attrs:{"cols":"4"}},[_c('b-card',{staticClass:"mt-3 text-left d-none-0",attrs:{"header":"Price"}},[_c('pre',{staticClass:"text-left"},[_vm._v(_vm._s(_vm.price))])])],1),_c('b-col',{attrs:{"cols":"4"}},[_c('b-card',{staticClass:"mt-3 text-left",attrs:{"header":"formDatas:"}},[_c('pre',{staticClass:"text-left"},[_vm._v(_vm._s(_vm.formDatas))])])],1)],1):_vm._e()],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/App/StepsPage.vue?vue&type=template&id=4c368a32&

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules
var objectSpread2 = __webpack_require__("5530");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js
var es_array_splice = __webpack_require__("a434");

// EXTERNAL MODULE: ./src/App/config/config.js
var config = __webpack_require__("f158");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"6bacc4e8-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App/NavLine.vue?vue&type=template&id=21f2cec8&
var NavLinevue_type_template_id_21f2cec8_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"nav-line"},_vm._l((_vm.idLevel),function(item,i){return _c('div',{key:i,staticClass:"w-100"},[_c('b-button',{staticClass:"nav-line__nav",class:i == _vm.stepsIndex ? 'nav-line__nav--dark' : '',attrs:{"title":'Etape ' + i,"variant":"info","id":'tooltip-1' + i},on:{"click":function($event){return _vm.loadSteps(i)}}}),_c('b-tooltip',{attrs:{"target":'tooltip-1' + i,"triggers":"hover","variant":"info"}},[_c('b',[_vm._v("etape "+_vm._s(i))]),_vm._v(" "),_c('br'),_c('div',[_vm._v(_vm._s(_vm.form.forms[i].info.title))])])],1)}),0)}
var NavLinevue_type_template_id_21f2cec8_staticRenderFns = []


// CONCATENATED MODULE: ./src/App/NavLine.vue?vue&type=template&id=21f2cec8&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.constructor.js
var es_number_constructor = __webpack_require__("a9e3");

// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js
var vuex_esm = __webpack_require__("2f62");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App/NavLine.vue?vue&type=script&lang=js&


//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var NavLinevue_type_script_lang_js_ = ({
  props: {
    taille: {
      require: true
    }
  },
  components: {},
  data: function data() {
    return {
      value: 1
    };
  },
  watch: {
    taille: function taille() {}
  },
  mounted: function mounted() {
    var step = localStorage.getItem("step");
    var id = localStorage.getItem("id");

    if (id !== null && step.length && id == this.taille) {
      this.$store.state.stepsIndex = Number(step);
    } else {
      this.$store.state.stepsIndex = 0;
    }
  },
  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["c" /* mapState */])(["stepsIndex"])), Object(vuex_esm["b" /* mapGetters */])(["form"])), {}, {
    idLevel: function idLevel() {
      var id = [];

      if (this.form.forms.length) {
        for (var i in this.form.forms) {
          id.push(i);
        }
      }

      return id;
    }
  }),
  methods: {
    loadSteps: function loadSteps(i) {
      this.$store.state.stepsIndex = i;
      localStorage.setItem("step", i);
      localStorage.setItem("id", this.taille);
    }
  }
});
// CONCATENATED MODULE: ./src/App/NavLine.vue?vue&type=script&lang=js&
 /* harmony default export */ var App_NavLinevue_type_script_lang_js_ = (NavLinevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/App/NavLine.vue?vue&type=style&index=0&lang=scss&
var NavLinevue_type_style_index_0_lang_scss_ = __webpack_require__("3734");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/App/NavLine.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  App_NavLinevue_type_script_lang_js_,
  NavLinevue_type_template_id_21f2cec8_render,
  NavLinevue_type_template_id_21f2cec8_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var NavLine = (component.exports);
// EXTERNAL MODULE: ./src/App/pages.vue + 19 modules
var pages = __webpack_require__("0b91");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App/StepsPage.vue?vue&type=script&lang=js&


//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//import axios from "axios";
 //import utilities from "./Utilities";



 //import pages from "./pages2.vue";

/* harmony default export */ var StepsPagevue_type_script_lang_js_ = ({
  components: {
    pages: pages["a" /* default */],
    NavLine: NavLine
  },
  props: {
    id: {
      type: String,
      required: true
    }
  },
  data: function data() {
    return {
      datasBd: [],
      stepsId: 1,
      demo: true,
      title: "",
      datasBase: {
        description: "",
        id: null,
        forms: "",
        name: ""
      }
    };
  },
  watch: {
    stepsId: function stepsId() {
      this.datasBdOrLocalStorage();
    }
  },
  mounted: function mounted() {
    this.$store.dispatch("setFormId", this.id);
  },
  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["c" /* mapState */])(["stepsIndex", "allStepsDatas", "fields", "price", "mode"])), Object(vuex_esm["b" /* mapGetters */])(["form", "formDatas"])), {}, {
    currentSteps: function currentSteps() {
      var local = localStorage.getItem("allo");
      var recap = JSON.parse(local); //console.log("lo", recap);

      if (recap != null && recap.length) {
        return recap[this.$store.state.stepsIndex];
      } else return this.formDatas;
    },
    stepsDatas: function stepsDatas() {
      var so = this.datasBd;

      if (this.datasBd.length) {
        console.log("object io", so[this.stepsId - 1]);
        return so[this.stepsId - 1];
      } else return "vide";
    }
  }),
  methods: {
    deleteSteps: function deleteSteps(datas) {
      var all = this.$store.state.allStepsDatas;
      var r = all.indexOf(this.formDatas);
      this.$emit("index-to-delete", r);
      console.log("de", datas);

      for (var i = all.length - 1; i >= 0; i--) {
        if (i === r) {
          all.splice(i, 1);
          console.log("iiippp");
        }
      }
    },
    datasBdOrLocalStorage: function datasBdOrLocalStorage() {
      var local = localStorage.getItem("allo");
      var recap = JSON.parse(local);
      console.log("loaaaa", recap);

      if (this.stepsDatas != "vide") {
        this.datasBase = this.stepsDatas;
        console.log("aaa", this.datasBase);
        var rep = JSON.parse(this.datasBase.forms);
        this.$store.state.allStepsDatas = rep;
        this.$store.state.formDatas = this.allStepsDatas[this.$store.state.stepsIndex]; // this.$store.state.fields = this.$store.state.formDatas.fields[0];
      } else if (recap != null && recap.length) {
        console.log("appppaaa", recap);
        this.$store.state.allStepsDatas = recap;
        this.$store.state.formDatas = this.allStepsDatas[this.$store.state.stepsIndex]; //this.$store.state.fields = this.$store.state.formDatas.fields[0];
      } else if (this.stepsDatas == "vide") {
        alert("Désolé nous n'avons pas pue accéder à la BD  et vous n'avez aucune données dans votre localStorage");
      }
    },
    saveToLocal: function saveToLocal() {
      config["a" /* default */].prepareDatasToSave(this.form).then(function (val) {
        config["a" /* default */].saveForm(val).then(function () {//
        });
      });
    },
    back: function back() {
      this.$store.state.stepsIndex--; // this.$store.state.formDatas = this.currentSteps;
      // this.$store.state.fields = this.currentSteps.fields[0];
      //

      this.$store.state.formDatas = this.allStepsDatas[this.$store.state.stepsIndex];
      this.$store.state.fields = this.$store.state.formDatas.fields[0];
      console.log("back");
    },
    suivant: function suivant() {
      var local = localStorage.getItem("allo");
      var recap = JSON.parse(local);
      var base = this.$store.state.stepsIndex;

      if (recap.length >= 1 && base < recap.length - 1) {
        console.log("local0", recap.length);
        this.$store.state.stepsIndex++;
        this.$store.state.formDatas = this.allStepsDatas[this.$store.state.stepsIndex];
        this.$store.state.fields = this.$store.state.formDatas.fields[0];
      }

      console.log("base", this.currentSteps.length);
    },
    preview: function preview() {
      this.demo = !this.demo;
      console.log("prev", this.demo);
    },
    clearFormDatas: function clearFormDatas() {
      var all = {
        info: {
          headerTitle: "",
          title: "",
          name: ""
        },
        fields: []
      };
      this.form.forms.push(all);
      this.$store.state.stepsIndex = this.form.forms.length - 1; //this.$store.dispatch("resetFormDatas");
    },
    resetValue: function resetValue() {
      this.$store.getters.formDatas.selected = "";
      this.$store.getters.formDatas.value = [];
      console.log("prev");
    },
    resetModal: function resetModal() {//   this.formDatas.info.title = "";
      //   this.titleState = null;
      //   this.headerTitle = "";
      //   this.headerState = null;
    },
    handleOk: function handleOk(bvModalEvt) {
      // Prevent modal from closing
      bvModalEvt.preventDefault(); // Trigger submit handler

      this.handleSubmit();
    },
    handleSubmit: function handleSubmit(event) {
      var _this = this;

      event.preventDefault(); // Exit when the form isn't valid

      this.demo = true;
      this.$nextTick(function () {
        _this.$bvModal.hide("modal-prevent-closing");
      });
    }
  }
});
// CONCATENATED MODULE: ./src/App/StepsPage.vue?vue&type=script&lang=js&
 /* harmony default export */ var App_StepsPagevue_type_script_lang_js_ = (StepsPagevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/App/StepsPage.vue?vue&type=style&index=0&lang=scss&
var StepsPagevue_type_style_index_0_lang_scss_ = __webpack_require__("3db8");

// CONCATENATED MODULE: ./src/App/StepsPage.vue






/* normalize component */

var StepsPage_component = Object(componentNormalizer["a" /* default */])(
  App_StepsPagevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var StepsPage = __webpack_exports__["default"] = (StepsPage_component.exports);

/***/ })

}]);
//# sourceMappingURL=appForm.umd.4.js.map